fa-app(ng-controller='HomeCtrl')
    fa-scroll-view#home(fa-pipe-from='eventHandler', fa-options='options.scrollViewTwo', fa-start-index='1')

        //- this is the Spotlight View         
        fa-view(fa-index='0', fa-options='options.scrollViewOne')
          fa-surface(fa-pipe-to='eventHandler')
            fa-app(onScroll="scrolling()")
                fa-view
                  fa-modifier(fa-size='[getPageWidth(), getPageHeight()]')
                    fa-header-footer-layout(fa-options='{headerSize: 50, footerSize: 50}')
                        //- header
                        fa-modifier#mainHeader(fa-translate="boxTransitionableHeader.get()" fa-opacity="opacityTrans")
                          fa-surface.absolute(fa-background-color="'black'")
                            fa-app
                              fa-image-surface.spotlight-avatar(fa-size='[50,50]' fa-image-url="img/spotlight-icon-small.png" ng-click="showWinnerInfo()")
                              fa-surface.spotlight-name(ng-click="showWinnerInfo()") Lilly Bloomings 
                              fa-surface.twitter(ng-click="showWinnerTwitter()") t
                              fa-surface.facebook(ng-click="showWinnerFacebook()") f


                        //- content
                        fa-surface(fa-background-color="'gray'") 
                          fa-app(ng-controller='HomeCtrl')
                            fa-scroll-view#main-scrollview(fa-pipe-from='myEventHandler' fa-options='options.container')
                              fa-view(fa-size='[getPageWidth(), mainScrollHeight]')
                                fa-modifier(ng-repeat='post in posts track by $index')
                                  fa-surface.relative-image(ng-if="post.image_url" fa-size='[getPageWidth(), 300]')
                                    .image(ng-style="{'background-image':'url({{post.image_url}})', 'height': '285px',  'width': '{{getPageWidth()}}', 'background-size': 'contain', 'background-repeat': 'no-repeat', 'background-position': 'center'}" fa-pipe-to='myEventHandler')
                                    .image-date-container(ng-hide="post.text") 
                                      .image-date -{{moment(post.created_at).format('LT')}}
                                    .image-social(ng-hide="post.text")
                                      .comments Comments {{post.comments}}
                                      .likes {{post.likes}}
                                        span.heart
                                  fa-surface.relative-text(ng-if="post.text" fa-background-color="white" fa-size='[getPageWidth(), 200]')
                                    .content(fa-pipe-to='myEventHandler') 
                                      //- .open-quote
                                      .content-text {{post.text}}
                                      //- .close-quote
                                    .content-date-container
                                      .content-date -{{moment(post.created_at).format('LT')}}
                                    .content-social
                                      .comments(ng-click="openCommentsBox()") {{post.comments}}
                                      .likes {{post.likes}}
                                    fa-app
                                      fa-image-surface.comments-icon(fa-image-url="img/heart.png" fa-size='[20,20]' ng-click="openCommentsBox()")
                                      fa-image-surface.heart(fa-image-url="img/heart.png" fa-size='[20,20]' ng-click="like(post)")
                            
                            //- comments surface
                            fa-app.sliding-in-view                           
                              fa-view(fa-pipe-from="eventHandlerB")
                                fa-modifier(fa-translate="boxTransitionableComments.get()" fa-opacity="commentsBoxTransparency" fa-size="commentsBoxSize.get()")
                                  fa-surface.post-box-background
                                    fa-app
                                      fa-scroll-view#comments-scrollview(fa-pipe-from='commentsScrollHandler' fa-options='options.container')
                                        fa-view(fa-size='[getPageWidth(), 700]')
                                          fa-modifier(ng-repeat='comment in comments track by $index')
                                            fa-surface.relative-text(fa-background-color="white" fa-size='[getPageWidth(), 100]')
                                              .content(fa-pipe-to="commentsScrollHandler") 
                                                .content-text {{comment.text}}


                        // footer
                        fa-view(fa-pipe-from="eventHandlerB")
                          fa-modifier#mainFooter(fa-translate="boxTransitionableFooter.get()" fa-opacity="opacityTrans")
                            fa-image-surface.menu-icon(fa-size='[50,50]' fa-image-url="img/menu-ellipses-icon.png" ng-click="switchPage(1)")
                            fa-surface.center-content
                              fa-app.highest-z-index
                                fa-image-surface.show-post-button(ng-if="userIsInTheSpotlight" fa-size='[70,70]' fa-image-url="img/add_post.png" fa-pipe-to="eventHandler" fa-click="openPostBox($event)")
              


            //- spotllight post surface
            fa-app.sliding-in-view
              fa-view(fa-pipe-from="eventHandlerB")
                fa-modifier(fa-pipe-from="eventHandler" fa-translate="boxTransitionableSpotlightPost.get()" fa-opacity="postboxTransparency" fa-size="postboxSize.get()")
                  fa-surface.post-box-background
                    //- textarea(ng-model="post.message"  placeholder="  Share something with the world." ng-style="{'width' : '100%', 'height': '{{textareaHeight()}}', 'border' : 'none', 'border-radius' : '10px', 'background': 'rgb(234, 233, 233)'}")
                    //- .new-image-area(ng-style="{'background-image':'url({{addImageUrl}})', 'height': '{{addImageHeight()}}',  'width': '{{getPageWidth()}}', 'background-size': 'contain', 'background-repeat': 'no-repeat', 'background-position': 'center', 'margin-top' : '10px'}")
                    fa-app 
                      fa-modifier(fa-translate="boxTransitionableSpotlightPost.get()" fa-opacity="postboxTransparency" fa-size="postboxSize.get()")
                        fa-surface.textbox-and-image-container
                          textarea(ng-model="post.message"  placeholder="  Share something with the world." ng-style="{'width' : '95%', 'height': '{{textareaHeight()}}', 'border' : 'none', 'border-radius' : '10px', 'background': 'rgb(234, 233, 233)', 'font-size' : '16px', 'padding' : '10px'}")
                          .new-image-area(ng-style="{'background-image':'url({{addImageUrl}})', 'height': '{{addImageHeight()}}',  'width': '{{getPageWidth()}}', 'background-size': 'contain', 'background-repeat': 'no-repeat', 'background-position': 'center', 'margin-top' : '10px'}")
                            .delete-image(ng-style="{'height' : '30px', 'width': '30px', 'background-color' : 'rgba(0, 0, 0, 0.5)', 'border-radius' : '100%', 'color' : 'white', 'font-size' : '20px', 'font-family' : 'Helvetica', 'float' : 'right', 'text-align' : 'center', 'line-height' : '32px'}") X
                      fa-image-surface.make-post(ng-if="userIsInTheSpotlight" fa-size='[70,70]' fa-image-url="img/postit_icon.png")
                      fa-image-surface.open-camera(ng-if="userIsInTheSpotlight" fa-size='[50, 50]' fa-image-url="img/camera_icon.png")
                      fa-image-surface.open-albums(ng-if="userIsInTheSpotlight" fa-size='[45,45]' fa-image-url="img/albums_icon.png")
                      fa-image-surface.spotlight-help(ng-if="userIsInTheSpotlight" fa-size='[50,50]' fa-image-url="img/account_icon.png" ng-click="showAccount()")
                      fa-image-surface.close-post-box(ng-if="userIsInTheSpotlight" fa-size='[45,45]' fa-image-url="img/close_icon.png" ng-click="closePostbox()")       
              
            //- spotlight account 
            fa-app.top-slide-in-view
              fa-flipper
                fa-modifier(fa-translate="boxTransitionableSpotlightAccount.get()" fa-opacity="accountBoxTransparency" fa-size="accountBoxSize.get()")
                  fa-surface.account-box-background
                    fa-app
                      fa-modifier(fa-translate="boxTransitionableSpotlightAccount.get()" fa-opacity="accountBoxTransparency" fa-size="accountBoxSize.get()")
                        fa-surface
                          //- bio, avatar, links to facebook and twitter log out
                          .avatar-container(ng-style="{'position' : 'relative', 'height' : '80px', 'margin-top' : '-20px'}")
                            .avatar-choice(ng-style="{'position' : 'absolute', 'left' : '5%', 'height' : '80px', 'width' : '80px', 'background' : 'url({{avatar}})', 'background-size' : 'contain', 'background-repeat' : 'no-repeat', 'background-position' : 'center', 'background-size' : 'contain'}")
                          //-   .change-avatar(ng-style="{'position' : 'absolute', 'top' : '20px', 'left' : '50%',  'height' : '30px', 'width' : '100px', 'border' : '2px solid black', 'text-align' : 'center', 'line-height' : '30px', 'border-radius' : '10px'}")  Replace
                          .account-inputs(ng-style="{'position' : 'relative', 'height' : '{{accountContentHeight()}}'}")
                            input(ng-style="{'padding' : '7px', 'width' : '85%', 'margin-left' : '5%', 'height' : '15%', 'margin-top' : '10px', 'background-color' : 'rgb(215, 213, 213)', 'border-radius' : '5px', 'border' : 'none', 'font-size' : '16px'}")
                            input(ng-style="{'padding' : '7px', 'width' : '85%', 'margin-left' : '5%', 'height' : '15%', 'margin-top' : '10px', 'background-color' : 'rgb(215, 213, 213)', 'border-radius' : '5px', 'border' : 'none', 'font-size' : '16px'}")
                            input(ng-style="{'padding' : '7px', 'width' : '85%', 'margin-left' : '5%', 'height' : '15%', 'margin-top' : '10px', 'background-color' : 'rgb(215, 213, 213)', 'border-radius' : '5px', 'border' : 'none', 'font-size' : '16px'}")
                            textarea(ng-style="{'padding' : '7px', 'width' : '85%', 'margin-left' : '5%', 'height' : '30%', 'margin-top' : '10px', 'background-color' : 'rgb(215, 213, 213)', 'border-radius' : '5px', 'border' : 'none', 'font-size' : '16px'}")
                        
                        fa-image-surface.delete-photo(fa-size='[50, 50]' fa-image-url="img/delete_icon.png")
                        fa-image-surface.change-photo-camera(fa-size='[50, 50]' fa-image-url="img/camera_icon.png")
                        fa-image-surface.change-photo-albums(fa-size='[50, 50]' fa-image-url="img/albums_icon.png")
                        fa-image-surface.go-back(fa-size='[90, 54]' fa-image-url="img/back_button.png" ng-click="closeAccountPage()")
                        fa-image-surface.spotlight-time(fa-size='[90, 54]' fa-image-url="img/session_button.png" ng-click="flipIt()")
                        fa-image-surface.save(fa-size='[90, 54]' fa-image-url="img/save_button.png")
                      
                fa-modifier(fa-translate="[0, 50, 0]" fa-size="[getPageWidth(), getPageHeight()]")
                  fa-surface.account-box-background
                    fa-app
                      fa-surface.session-info-surface
                        .session-info-container 
                          .session-time Your time in the Spotlight ends:
                          .session-end-date TIME
                          .end-session(ng-click="showConfirmationDialog()") End my session now
                      fa-image-surface.flip-back(fa-size='[90, 54]' fa-image-url="img/back_button.png" ng-click="flipIt()")
                        
                  
            //- if clicking on spotlight winner
            fa-app.top-slide-in-view
              fa-modifier(fa-translate="boxTransitionableWinnerInfo.get()" fa-opacity="winnerInfoBoxTransparency" fa-size="winnerInfoBoxSize.get()")
                fa-surface.winner-info-background
                  .winner-image(ng-style="{'position' : 'relative', 'margin-top' : '20px'}")
                    .image(ng-style="{'background-image':'url({{winner.avatar_url}})', 'height': '200px',  'width': '{{getPageWidth()}}', 'background-size': 'contain', 'background-repeat': 'no-repeat', 'background-position': 'center'}" fa-pipe-to='dayScrollEventHandler')
                  .winner-bio(ng-style="{'position' : 'absolute', 'top' : '220px', 'padding' : '15px', 'margin' : '20px', 'background' : 'rgb(215, 213, 213)',  'border-radius' : '10px', 'font-size' : '16px', 'font-family' : 'Helvetica Neue'}") {{winner.bio}}
                  .go-back-to-main(ng-style="{'position' : 'absolute', 'top' : '80%', 'width' : '20%', 'height' : '30px', 'text-align' : 'center', 'line-height' : '30px', 'border' : '2px solid black', 'border-radius' : '10px', 'left' : '40%', 'font-family' : 'Helvetica'}" ng-click="closeWinnerInfo()") Back

            //- confirmation box
            fa-app.top-slide-in-view
              fa-modifier(fa-translate="boxTransitionableConfirmation.get()" fa-opacity="confirmationBoxTransparency" fa-size="confirmationBoxSize.get()")
                fa-surface.confirmation-dialog-background
                  .confirmation-dialog-content
                    .confirmation-text Are you sure {{confirmation.text}}?
                    .confirmation-no(ng-click="closeConfirmationDialog()") No
                    .confirmation-yes Yes

            //- comments box
            fa-app.top-slide-in-view
              fa-modifier(fa-translate="boxTransitionableComments.get()" fa-opacity="commentsBoxTransparency" fa-size="commentsBoxSize.get()")
                fa-surface.confirmation-dialog-background
                  



        //- this is the Main Archive View
        fa-view(fa-index='1')
          fa-modifier(fa-size='[getPageWidth(), getPageHeight()]')
            fa-surface(fa-pipe-to='eventHandler')
              fa-app
                fa-view
                  fa-modifier(fa-size='[getPageWidth(), getPageHeight()]')
                    fa-header-footer-layout(fa-options='{headerSize: 50, footerSize: 50}')
                        // header
                        fa-modifier(fa-translate="boxTransitionableHeader2.get()" fa-opacity="opacityTrans2")
                          fa-surface.absolute(fa-background-color="'black'")
                        // content
                        fa-surface(fa-background-color="'white'")
                          fa-app(ng-controller='HomeCtrl')
                            fa-scroll-view#archive-scrollview(fa-pipe-from='archiveScrollEventHandler' fa-options='options.container')
                              fa-view(ng-repeat='archive in archivedDays' fa-size='[getPageWidth(), archiveScrollHeight]')
                                fa-modifier(fa-size='[getPageWidth(), 100]')
                                  fa-surface.archive-item(fa-background-color='archive.color', fa-pipe-to='archiveScrollEventHandler')
                                   .user-name(ng-click="goToArchivedDay(archive.id)") {{archive.name}}
                                   .date(ng-click="goToArchivedDay(archive.id)" ng-if="archive.date") {{moment(archive.date).format('MMMM Do YYYY')}}

                        // footer
                        fa-modifier(fa-translate="boxTransitionableFooter2.get()" fa-opacity="opacityTrans2" fa-size='[50,50]')
                          fa-image-surface.spotlight-icon(fa-image-url="img/spotlight-icon-small.png" ng-click="switchPage(0)")                 


              fa-app.top-in-slide-view(ng-if="userNotSignedIn")
                fa-view
                  fa-modifier(fa-translate="boxTransitionableRegistration.get()" fa-opacity="registrationBoxTransparency" fa-size="registrationBoxSize.get()")
                    fa-surface.registration-view-background
                      fa-app.registration-view-background
                        fa-modifier(fa-size="[getPageWidth(), 400]" fa-opacity="aboutTransparency")
                          fa-surface.registration-view-background(ng-if="about")
                            .about-container
                              .about-title Why Spotlight?
                              .about-info 
                                span Spotlight is an attempt to create a simpler social network.
                                span Spotlight is an attempt to create a simpler social network.
                                span Spotlight is an attempt to create a simpler social network.
                                span Spotlight is an attempt to create a simpler social network.
                                span Spotlight is an attempt to create a simpler social network.
                              .go-back-to-login(ng-click="closeAboutOne()") Back
                        fa-modifier(fa-size="[getPageWidth(), 400]" fa-opacity="loginTransparency")
                          fa-surface.registration-view-background(ng-if="login" fa-tap="tapEvent($event)" fa-pipe-to="archiveScrollEventHandler") 
                            .login-container
                              .title Spotlight
                              .logo
                              .login-username
                                input.account-input(type="text" ng-model="user.username" placeholder="User name")
                              .login-password
                                input.account-input(type="password" ng-model="user.password" placeholder="Password")
                              .register-surface-buttons
                                .account-login Login
                                .account-register(ng-click="showRegister()") Register
                                .question-mark(ng-click="showAboutOne($event);")
                                .go-left(ng-click="switchPage(0)")
                                .go-right(ng-click="switchPage(2)")
                        fa-modifier(fa-size="[getPageWidth(), 400]" fa-opacity="registerTransparency")             
                          fa-surface.registration-view-background(ng-if="register") 
                            .register-container
                              .slogan One person at a time
                              .register-username
                                input.account-input(type="text" ng-model="user.username" placeholder="User name")
                              .register-password
                                input.account-input(type="password" ng-model="user.password" placeholder="Password")
                              .register-password-confirmation
                                input.account-input(type="password" ng-model="user.passwordConfirmation" placeholder="Confirm Password")
                              .register-phone
                                input.account-input(type="text" ng-model="user.phone" placeholder="Phone (optional)")
                              .register-explanation * Adding your phone number enters you into the Spotlight Lottery, we will never use it for any other purpose.
                              .register-surface-buttons
                                .account-login(ng-click="showLogin()")  Login
                                .account-register(ng-click="showRegister()")  Register
                        



                    
         //this is the Show Archived Day View
        fa-view(fa-index='2' fa-options='options.scrollViewOne')
          fa-modifier(fa-size='[getPageWidth(), getPageHeight()]')
            fa-surface(fa-pipe-to='eventHandler')
              fa-app
                fa-view
                  fa-modifier(fa-size='[getPageWidth(), getPageHeight()]')
                    fa-header-footer-layout(fa-options='{headerSize: 50, footersize: 50}')
                        //header
                        fa-modifier(fa-translate="boxTransitionableHeader3.get()" fa-opacity="opacityTrans3")
                          fa-surface.absolute(fa-background-color="'black'")
                        //content
    
                        fa-surface(fa-background-color="'gray'") 
                          fa-app(ng-controller='HomeCtrl')
                            fa-scroll-view#day-scrollview(fa-pipe-from='dayScrollEventHandler' fa-options='options.container')
                              fa-view(fa-size='[getPageWidth(), dayScrollHeight]')
                                fa-modifier.top-border(ng-repeat='post in archivedDayPosts track by $index')
                                  fa-surface.relative-image(ng-if="post.image_url" fa-size='[getPageWidth(), 300]')
                                    .image(ng-style="{'background-image':'url({{post.image_url}})', 'height': '285px',  'width': '{{getPageWidth()}}', 'background-size': 'contain', 'background-repeat': 'no-repeat', 'background-position': 'center'}" fa-pipe-to='dayScrollEventHandler')
                                    .image-date-container(ng-hide="post.text") 
                                      .image-date -{{moment(post.created_at).format('MMMM Do YYYY @ h:mm:ss a')}}
                                    .image-social(ng-hide="post.text")
                                      .comments Comments {{post.comments}}
                                      .likes {{post.likes}}
                                        span.heart

                                  fa-surface.relative-text(ng-if="post.text" fa-background-color="white" fa-size='[getPageWidth(), 200]')
                                    .content(fa-pipe-to='dayScrollEventHandler') 
                                      //- .open-quote
                                      .content-text {{post.text}}
                                      //- .close-quote
                                    .content-date-container
                                      .content-date - {{moment(post.created_at).format('MMMM Do YYYY @ h:mm:ss a')}}
                                    .content-social
                                      .comments Comments {{post.comments}}
                                      .likes {{post.likes}}
                                        span.heart
                        //footer
                        fa-container-surface
                          fa-modifier(fa-translate="boxTransitionableFooter3.get()" fa-opacity="opacityTrans3" fa-size='[50,50]')
                            fa-image-surface.spotlight-icon2(fa-image-url="img/menu-ellipses-icon.png" ng-click="switchPage(1)")



  


        